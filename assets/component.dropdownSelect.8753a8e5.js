import{B as r,c as u}from"./web3.8b43b50e.js";import m from"./component.toggleSwitches.8990d3da.js";import"./main.9347755c.js";var y={globals:{elem:document.querySelectorAll(".dropdown-select")},init(){this.globals.elem.forEach(e=>{const t=e.querySelector(".ds-btn"),a=e.querySelector("input[name='info-amount']");let s=!1;a&&(a.addEventListener("click",i=>{s=!0,e.querySelectorAll("li").forEach(l=>l.classList.remove("info-active")),this.valueFromInputField(e,0)},!1),a.addEventListener("blur",()=>{s=!1,t.parentElement.classList.remove("active")},!1),a.addEventListener("keyup",async i=>{let l=i.target.value;i.target.value===""&&(l=0),this.valueFromInputField(e,l)},!1)),t.addEventListener("click",()=>{t.parentElement.classList.contains("active")?t.parentElement.classList.remove("active"):t.parentElement.classList.add("active")},!1),t.addEventListener("blur",()=>{setTimeout(()=>{s||t.parentElement.classList.remove("active")},500)},!1),this.eventListItems(e)})},async createListItems(e,t,a=!0){const s=e.querySelector(".info-list");s.textContent="";const i=await t;i.forEach((l,c)=>{const o=r(i.length).div(2).round().toNumber(),n=document.createElement("li");n.textContent=l,a?c<1&&(n.className="info-active"):o===c+1&&(n.className="info-active"),s.appendChild(n)}),this.eventListItems(e)},eventListItems(e){this.valueFromListItem(e);const t=e.querySelector("input[name='info-amount']");t&&(t.value="");const a=e.querySelectorAll("li");a.forEach(s=>{s.addEventListener("click",()=>{t&&(t.value=""),a.forEach(i=>i.classList.remove("info-active")),s.classList.add("info-active"),this.valueFromListItem(e)},!1)})},valueFromListItem(e){e.querySelectorAll("li").forEach(a=>{if(a.classList.contains("info-active")){const[s,i]=a.textContent.split("|");e.querySelector(".ds-value1").textContent=s,e.querySelector(".ds-value2").textContent=i}})},async valueFromInputField(e,t){e.querySelector(".ds-value1").textContent=t;const a=m.getActiveItem(document.querySelector(".opt-callput")).toLowerCase()==="call";e.querySelector(".ds-value2").textContent=await u(null,t,a)},async getValues(e,t,a=!1){new Promise((s,i)=>{setTimeout(()=>{s([e.querySelector(".ds-value1").textContent,e.querySelector(".ds-value2").textContent])},500)}).then(s=>{let i=`${s[0].trim()} (${s[1].trim()})`;a&&(i=s[0].trim()),t.textContent=i}).catch(s=>console.warn(s))}};export{y as default};
