import{c as n,b as i}from"./main.7869fc4d.js";var d={globals:{elem:document.querySelectorAll(".comp-tables"),limitrows:6},init(){this.globals.elem.forEach(t=>{this.setTable(t)})},setTable(t){this.swipeArrows(t),this.sortableHeaders(t),t.dataset.limitview==="button"&&this.limitViewButton(t),t.dataset.limitview==="scroll"&&this.limitViewScroll(t),this.hasScroll(t),window.addEventListener("resize",()=>{this.hasScroll(t)})},setDynamic(t,l=[],s=!0){if(l.length>0)t.querySelector(".table-container").classList.add("show-important"),s&&l.forEach(e=>this.setRows(t,e)),this.setTable(t);else{const e=document.createElement("div");e.className="align-center",e.textContent="No available data to show",t.appendChild(e)}},setRows(t,l=[]){const s=t.querySelector("tbody"),e=document.createElement("tr");l.forEach(r=>{const o=document.createElement("td");o.textContent=r,e.appendChild(o)}),s.appendChild(e)},swipeArrows(t){if(!n()){const l=t.querySelector(".table-container"),s=document.createElement("div");s.className="table-arrowleft",t.appendChild(s);const e=document.createElement("div");e.className="table-arrowright",t.appendChild(e),s.addEventListener("click",()=>{i.to(l,{scrollLeft:"-=100",ease:"none"})},!1),e.addEventListener("click",()=>{i.to(l,{scrollLeft:"+=100",ease:"none"})},!1)}},hasScroll(t){const l=t.querySelector(".table-container").offsetWidth;t.querySelector("table").offsetWidth>l?t.setAttribute("data-has-scroll",!0):t.setAttribute("data-has-scroll",!1)},limitViewButton(t){const l=t.querySelectorAll("tbody tr"),s=this.globals.limitrows;if(l.forEach((e,r)=>{r>s-1&&e.classList.add("hide")}),l.length>s){const e=document.createElement("div");e.className="table-viewmore",t.appendChild(e);const r=document.createElement("a");r.setAttribute("href","#"),r.className="btn btn-white btn-viewmore size-sm",r.textContent="View more",e.appendChild(r),r.addEventListener("click",o=>{o.preventDefault(),l.forEach(a=>a.classList.remove("hide")),e.remove()},!1)}},limitViewScroll(t){const l=t.querySelectorAll("tbody tr"),s=this.globals.limitrows;l.length>s-1&&t.setAttribute("data-max-rows",!0)},sortableHeaders(t){t.querySelectorAll("thead th").forEach((s,e)=>{s.classList.contains("sortable")&&s.addEventListener("click",()=>{this.sortByColumn({table:t,index:e,flag:s.classList.contains("sort-asc")?-1:1,sortText:s.classList.contains("sort-text")})},!1)})},sortByColumn(t){const l=Array.from(t.table.querySelectorAll("tbody tr")),s=e=>{let r="";return t.sortText?r=e.querySelector(`td:nth-child(${t.index+1})`).textContent.trim().toLowerCase():e.querySelector(`td:nth-child(${t.index+1})`).dataset.unformattedValue?r=parseFloat(e.querySelector(`td:nth-child(${t.index+1})`).dataset.unformattedValue):r=parseFloat(e.querySelector(`td:nth-child(${t.index+1})`).textContent.trim()),r};l.sort((e,r)=>{const o=s(e),a=s(r);return o<a?-1*t.flag:o>a?1*t.flag:0}),t.table.querySelectorAll("th.sortable").forEach(e=>e.classList.remove("sort-asc","sort-desc")),t.table.querySelector(`th:nth-child(${t.index+1})`).classList.add(t.flag===1?"sort-asc":"sort-desc"),l.forEach(e=>{t.table.querySelector("tbody").appendChild(e)})}};export{d as default};
