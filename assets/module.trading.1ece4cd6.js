import{g as h}from"./index.2d9ac2c0.js";import{t as d,a as v,d as u,f,h as k,i as m}from"./main.beffe511.js";import{g as p,a as N}from"./web3.405722c3.js";var b={globals:{elem:document.querySelector(".trading")},init(){this.sideNav(),this.animateEachPanel()},sideNav(){const t=this.globals.elem.querySelector(".sidenav");t.textContent="";const e=document.createElement("div");e.className="token-main",t.appendChild(e);const n=document.createElement("div");n.className="token-info",e.appendChild(n);const o=document.createElement("div");o.className="token-arrow",e.appendChild(o);const s=document.createElement("div");s.className="token-contents",t.appendChild(s);const a=document.createElement("div");a.className="token-list",s.appendChild(a);const i=document.createElement("div");i.className="token-info",a.appendChild(i),this.sideNavItem(n,{token:d(),price:v(),address:u()},!1),f.forEach((c,r)=>{c.token!==d()&&this.sideNavItem(i,c)}),this.sideNavRefreshPrice(t),this.sideNavLimiteView(t)},sideNavSearch(t){const e=document.createElement("div");e.className="input-search",t.appendChild(e);const n=document.createElement("input");n.setAttribute("type","search"),n.setAttribute("name","s"),n.setAttribute("placeholder","Search"),n.className="size-sm",e.appendChild(n)},async sideNavItem(t,e,n=!0){const o=document.createElement("div");o.className="info-item",t.appendChild(o);const s=document.createElement("div");s.className="token-content-wrapper",o.appendChild(s);const a=document.createElement("div");a.className="token-content",s.appendChild(a);const i=document.createElement("div");i.className="token-icon",a.appendChild(i);const c=document.createElement("img");c.src=k(`icon_${e.token.toLowerCase()}.svg`),i.appendChild(c);const r=document.createElement("div");r.className="token-name",r.textContent=`${e.token} - ${e.price}`,a.appendChild(r);const l=document.createElement("div");l.className="token-price align-right",l.setAttribute("data-address",e.address),l.textContent=await p(e.address),o.appendChild(l),n&&o.addEventListener("click",()=>{localStorage.removeItem(m),localStorage.setItem(m,JSON.stringify(e)),this.sideNav()})},sideNavRefreshPrice(t){let e=null;const n=()=>{e=setInterval(()=>{t.querySelectorAll(".token-price").forEach(async s=>{s.textContent=await p(s.dataset.address);let a=await N(s.dataset.address);console.log(a)})},15e3)},o=()=>{clearInterval(e),e=null};n(),document.addEventListener("visibilitychange",()=>{document.hidden?o():n()})},sideNavLimiteView(t){const e=t.querySelector(".token-arrow"),n=t.querySelector(".token-list"),o=n.querySelectorAll(".info-item"),s=3;if(e.addEventListener("click",()=>{t.classList.contains("sidenav-mobile-active")?t.classList.remove("sidenav-mobile-active"):t.classList.add("sidenav-mobile-active")},!1),o.forEach((a,i)=>{i>s-1&&a.classList.add("hide-important")}),o.length>s){const a=document.createElement("div");a.className="token-viewmore",n.appendChild(a);const i=document.createElement("a");i.setAttribute("href","#"),i.className="btn btn-white btn-viewmore size-sm",i.textContent="View more",a.appendChild(i),i.addEventListener("click",c=>{c.preventDefault(),o.forEach(r=>r.classList.remove("hide-important")),a.remove()},!1)}},animateEachPanel(){this.globals.elem.querySelectorAll(".animate-panel").forEach((t,e)=>{const n=new IntersectionObserver(o=>{o.forEach(s=>{s.intersectionRatio&&(t.style.opacity=1,h.timeline().from(t,{opacity:0,y:200,delay:e*.1}),n.unobserve(s.target))})},{threshold:.25});n.observe(t)})}};export{b as default};
