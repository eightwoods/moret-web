import{t as p,d as v,e as d,f as u,h as f,i as m,j as h,g as k}from"./main.63f840f7.js";var E={globals:{elem:document.querySelector(".trading"),refreshDuration:15e3},init(){const e=this.globals.elem.querySelector(".sidenav");this.sideNav(e),this.sideNavRefreshPrice(e),this.sideNavLimiteView(e),this.animateEachPanel()},sideNav(e){e.textContent="",e.setAttribute("sidenav-activechange","");const t=document.createElement("div");t.className="token-main",e.appendChild(t);const n=document.createElement("div");n.className="token-info",t.appendChild(n);const s=document.createElement("div");s.className="token-arrow",t.appendChild(s);const a=document.createElement("div");a.className="token-contents",e.appendChild(a);const i=document.createElement("div");i.className="token-list",a.appendChild(i);const o=document.createElement("div");o.className="token-info",i.appendChild(o),this.sideNavItem(n,{token:p(),price:v(),address:d()},!1),u.forEach((c,r)=>{c.address!==d()&&this.sideNavItem(o,c)})},sideNavSearch(e){const t=document.createElement("div");t.className="input-search",e.appendChild(t);const n=document.createElement("input");n.setAttribute("type","search"),n.setAttribute("name","s"),n.setAttribute("placeholder","Search"),n.className="size-sm",t.appendChild(n)},async sideNavItem(e,t,n=!0){const s=document.createElement("div");s.className="info-item",e.appendChild(s);const a=document.createElement("div");a.className="token-content-wrapper",s.appendChild(a);const i=document.createElement("div");i.className="token-content",a.appendChild(i);const o=document.createElement("div");o.className="token-icon",i.appendChild(o);const c=document.createElement("img");c.src=f(`icon_${t.token.toLowerCase()}.svg`),o.appendChild(c);const r=document.createElement("div");r.className="token-name",r.textContent=`${t.token} - ${t.price}`,i.appendChild(r);const l=document.createElement("div");l.className="token-price align-right",l.setAttribute("data-address",t.address),l.textContent=await m(t.address),s.appendChild(l),n&&s.addEventListener("click",()=>{localStorage.removeItem(h),localStorage.setItem(h,JSON.stringify(t)),this.sideNav(this.globals.elem.querySelector(".sidenav"))})},sideNavRefreshPrice(e){let t=null;const n=()=>{t=setInterval(()=>{e.setAttribute("sidenav-refreshprice",""),e.querySelectorAll(".token-price").forEach(async a=>{a.textContent=await m(a.dataset.address)})},this.globals.refreshDuration)},s=()=>{clearInterval(t),t=null};n(),document.addEventListener("visibilitychange",()=>{document.hidden?s():n()})},sideNavLimiteView(e){const t=e.querySelector(".token-arrow"),n=e.querySelector(".token-list"),s=n.querySelectorAll(".info-item"),a=3;if(t.addEventListener("click",()=>{e.classList.contains("sidenav-mobile-active")?e.classList.remove("sidenav-mobile-active"):e.classList.add("sidenav-mobile-active")},!1),s.forEach((i,o)=>{o>a-1&&i.classList.add("hide-important")}),s.length>a){const i=document.createElement("div");i.className="token-viewmore",n.appendChild(i);const o=document.createElement("a");o.setAttribute("href","#"),o.className="btn btn-white btn-viewmore size-sm",o.textContent="View more",i.appendChild(o),o.addEventListener("click",c=>{c.preventDefault(),s.forEach(r=>r.classList.remove("hide-important")),i.remove()},!1)}},animateEachPanel(){this.globals.elem.querySelectorAll(".animate-panel").forEach((e,t)=>{const n=new IntersectionObserver(s=>{s.forEach(a=>{a.intersectionRatio&&(e.style.opacity=1,k.timeline().from(e,{opacity:0,y:200,delay:t*.1}),n.unobserve(a.target))})},{threshold:.25});n.observe(e)})}};export{E as default};
