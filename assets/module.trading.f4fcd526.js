import{t as v,d as p,e as d,f as u,h as f,i as m,j as h,g as k}from"./main.064a2ae2.js";var E={globals:{elem:document.querySelector(".trading"),refreshDuration:15e3,elSidenav:null},init(){this.elSidenav=this.globals.elem.querySelector(".sidenav"),this.sideNav(this.elSidenav),this.sideNavRefreshPrice(this.elSidenav),this.sideNavLimiteView(this.elSidenav),this.animateEachPanel()},sideNav(t){t.textContent="",t.setAttribute("sidenav-activechange","");const e=document.createElement("div");e.className="token-main",t.appendChild(e);const n=document.createElement("div");n.className="token-info",e.appendChild(n);const i=document.createElement("div");i.className="token-arrow",e.appendChild(i);const a=document.createElement("div");a.className="token-contents",t.appendChild(a);const s=document.createElement("div");s.className="token-list",a.appendChild(s);const o=document.createElement("div");o.className="token-info",s.appendChild(o),this.sideNavItem(n,{token:v(),price:p(),address:d()},!1),u.forEach((c,r)=>{c.address!==d()&&this.sideNavItem(o,c)})},sideNavSearch(t){const e=document.createElement("div");e.className="input-search",t.appendChild(e);const n=document.createElement("input");n.setAttribute("type","search"),n.setAttribute("name","s"),n.setAttribute("placeholder","Search"),n.className="size-sm",e.appendChild(n)},async sideNavItem(t,e,n=!0){const i=document.createElement("div");i.className="info-item",t.appendChild(i);const a=document.createElement("div");a.className="token-content-wrapper",i.appendChild(a);const s=document.createElement("div");s.className="token-content",a.appendChild(s);const o=document.createElement("div");o.className="token-icon",s.appendChild(o);const c=document.createElement("img");c.src=f(`icon_${e.token.toLowerCase()}.svg`),o.appendChild(c);const r=document.createElement("div");r.className="token-name",r.textContent=`${e.token} - ${e.price}`,s.appendChild(r);const l=document.createElement("div");l.className="token-price align-right",l.setAttribute("data-address",e.address),l.textContent=await m(e.address),i.appendChild(l),n&&i.addEventListener("click",()=>{localStorage.removeItem(h),localStorage.setItem(h,JSON.stringify(e)),this.sideNav(this.elSidenav),this.sideNavLimiteView(this.elSidenav)})},sideNavRefreshPrice(t){let e=null;const n=()=>{e=setInterval(()=>{t.setAttribute("sidenav-refreshprice",""),t.querySelectorAll(".token-price").forEach(async a=>{a.textContent=await m(a.dataset.address)})},this.globals.refreshDuration)},i=()=>{clearInterval(e),e=null};n(),document.addEventListener("visibilitychange",()=>{document.hidden?i():n()})},sideNavLimiteView(t){const e=t.querySelector(".token-arrow"),n=t.querySelector(".token-list"),i=n.querySelectorAll(".info-item"),a=3;if(e.addEventListener("click",()=>{t.classList.contains("sidenav-mobile-active")?t.classList.remove("sidenav-mobile-active"):t.classList.add("sidenav-mobile-active")},!1),i.forEach((s,o)=>{o>a-1&&s.classList.add("hide-important")}),i.length>a){const s=document.createElement("div");s.className="token-viewmore",n.appendChild(s);const o=document.createElement("a");o.setAttribute("href","#"),o.className="btn btn-white btn-viewmore size-sm",o.textContent="View more",s.appendChild(o),o.addEventListener("click",c=>{c.preventDefault(),i.forEach(r=>r.classList.remove("hide-important")),s.remove()},!1)}},animateEachPanel(){this.globals.elem.querySelectorAll(".animate-panel").forEach((t,e)=>{const n=new IntersectionObserver(i=>{i.forEach(a=>{a.intersectionRatio&&(t.style.opacity=1,k.timeline().from(t,{opacity:0,y:200,delay:e*.1}),n.unobserve(a.target))})},{threshold:.25});n.observe(t)})}};export{E as default};
