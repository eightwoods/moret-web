import{B as r,c as u}from"./web3.104d0b6f.js";import m from"./component.toggleSwitches.d31686b5.js";import"./main.60a41bc4.js";var y={globals:{elem:document.querySelectorAll(".dropdown-select")},init(){this.globals.elem.forEach(e=>{const t=e.querySelector(".ds-btn"),i=e.querySelector("input[name='info-amount']");let s=!1;i&&(i.addEventListener("click",()=>{s=!0,e.querySelectorAll("li").forEach(a=>a.classList.remove("info-active")),this.valueFromInputField(e,0)},!1),i.addEventListener("blur",a=>{s=!1,t.parentElement.classList.remove("active"),setTimeout(()=>{a.target.value!==""&&e.setAttribute("dds-updated","")},500)},!1),i.addEventListener("keyup",async a=>{let l=a.target.value;a.target.value===""&&(l=0),this.valueFromInputField(e,l)},!1),i.addEventListener("keydown",a=>{a.keyCode==13},!1)),t.addEventListener("click",()=>{t.parentElement.classList.contains("active")?t.parentElement.classList.remove("active"):t.parentElement.classList.add("active")},!1),t.addEventListener("blur",()=>{setTimeout(()=>{s||t.parentElement.classList.remove("active")},500)},!1),this.eventListItems(e)})},async createListItems(e,t,i=!0){const s=e.querySelector(".info-list");s.textContent="";const a=await t;a.forEach((l,c)=>{const o=r(a.length).div(2).round().toNumber(),n=document.createElement("li");n.textContent=l,i?c<1&&(n.className="info-active"):o===c+1&&(n.className="info-active"),s.appendChild(n)}),this.eventListItems(e)},eventListItems(e){this.valueFromListItem(e);const t=e.querySelector("input[name='info-amount']");t&&(t.value="");const i=e.querySelectorAll("li");i.forEach(s=>{s.addEventListener("click",()=>{t&&(t.value=""),i.forEach(a=>a.classList.remove("info-active")),s.classList.add("info-active"),this.valueFromListItem(e),e.setAttribute("dds-updated","")},!1)})},valueFromListItem(e){e.querySelectorAll("li").forEach(i=>{if(i.classList.contains("info-active")){const[s,a]=i.textContent.split("|");e.querySelector(".ds-value1").textContent=s,e.querySelector(".ds-value2").textContent=a}})},async valueFromInputField(e,t){e.querySelector(".ds-value1").textContent=t;const i=m.getActiveItem(document.querySelector(".opt-callput")).toLowerCase()==="call";e.querySelector(".ds-value2").textContent=await u(null,t,i)},async getValues(e,t,i=!1){new Promise((s,a)=>{setTimeout(()=>{s([e.querySelector(".ds-value1").textContent,e.querySelector(".ds-value2").textContent])},500)}).then(s=>{let a=`${s[0].trim()} (${s[1].trim()})`;i&&(a=s[0].trim()),t.textContent=a}).catch(s=>console.warn(s))}};export{y as default};
