import{c as d,d as p,t as v,j as u,k,l as m,a as f}from"./main.bc7e1bdb.js";import{g as h}from"./web3.f7bd1880.js";var C={globals:{elem:document.querySelector(".trading")},init(){this.sideNav(),this.animateEachPanel()},sideNav(){const t=this.globals.elem.querySelector(".sidenav");t.textContent="";const e=document.createElement("div");e.className="token-main",t.appendChild(e);const n=document.createElement("div");n.className="token-info",e.appendChild(n);const a=document.createElement("div");a.className="token-arrow",e.appendChild(a);const s=document.createElement("div");s.className="token-contents",t.appendChild(s);const o=document.createElement("div");o.className="token-list",s.appendChild(o);const i=document.createElement("div");i.className="token-info",o.appendChild(i),this.sideNavItem(n,{token:d(),price:p(),address:v()},!1),u.forEach((c,r)=>{c.token!==d()&&this.sideNavItem(i,c)}),this.sideNavRefreshPrice(t),this.sideNavLimiteView(t)},sideNavSearch(t){const e=document.createElement("div");e.className="input-search",t.appendChild(e);const n=document.createElement("input");n.setAttribute("type","search"),n.setAttribute("name","s"),n.setAttribute("placeholder","Search"),n.className="size-sm",e.appendChild(n)},async sideNavItem(t,e,n=!0){const a=document.createElement("div");a.className="info-item",t.appendChild(a);const s=document.createElement("div");s.className="token-content-wrapper",a.appendChild(s);const o=document.createElement("div");o.className="token-content",s.appendChild(o);const i=document.createElement("div");i.className="token-icon",o.appendChild(i);const c=document.createElement("img");c.src=k(`icon_${e.token.toLowerCase()}.svg`),i.appendChild(c);const r=document.createElement("div");r.className="token-name",r.textContent=`${e.token} - ${e.price}`,o.appendChild(r);const l=document.createElement("div");l.className="token-price align-right",l.setAttribute("data-address",e.address),l.textContent=await h(e.address),a.appendChild(l),n&&a.addEventListener("click",()=>{localStorage.removeItem(m),localStorage.setItem(m,JSON.stringify(e)),this.sideNav()})},sideNavRefreshPrice(t){let e=null;const n=()=>{e=setInterval(()=>{t.querySelectorAll(".token-price").forEach(async s=>{s.textContent=await h(s.dataset.address)})},15e3)},a=()=>{clearInterval(e),e=null};n(),document.addEventListener("visibilitychange",()=>{document.hidden?a():n()})},sideNavLimiteView(t){const e=t.querySelector(".token-arrow"),n=t.querySelector(".token-list"),a=n.querySelectorAll(".info-item"),s=3;if(e.addEventListener("click",()=>{t.classList.contains("sidenav-mobile-active")?t.classList.remove("sidenav-mobile-active"):t.classList.add("sidenav-mobile-active")},!1),a.forEach((o,i)=>{i>s-1&&o.classList.add("hide-important")}),a.length>s){const o=document.createElement("div");o.className="token-viewmore",n.appendChild(o);const i=document.createElement("a");i.setAttribute("href","#"),i.className="btn btn-white btn-viewmore size-sm",i.textContent="View more",o.appendChild(i),i.addEventListener("click",c=>{c.preventDefault(),a.forEach(r=>r.classList.remove("hide-important")),o.remove()},!1)}},animateEachPanel(){this.globals.elem.querySelectorAll(".animate-panel").forEach((t,e)=>{const n=new IntersectionObserver(a=>{a.forEach(s=>{s.intersectionRatio&&(t.style.opacity=1,f.timeline().from(t,{opacity:0,y:200,delay:e*.1}),n.unobserve(s.target))})},{threshold:.25});n.observe(t)})}};export{C as default};
